const { spawn } = require('child_process'); const path = require('path'); const nextBin = path.join(__dirname, 'node_modules', '.bin', 'next'); const nextProcess = spawn(nextBin, ['start'], { stdio: 'inherit', env: { ...process.env, NODE_ENV: 'production', PORT: '3000' } }); nextProcess.on('error', (err) => { console.error('Failed to start Next.js:', err); process.exit(1); }); process.on('SIGTERM', () => { nextProcess.kill(); process.exit(0); });
